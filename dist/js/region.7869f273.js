"use strict";(self["webpackChunkmsh22"]=self["webpackChunkmsh22"]||[]).push([[72],{4205:function(t,e,s){s.r(e),s.d(e,{default:function(){return x}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pa-5"},[s("v-card",{attrs:{rounded:"lg"}},[s("v-card-text",[s("v-row",[s("v-col",{class:[t.$style["card-header"],"base--text","text-start"]},[s("h3",{staticClass:"text-h4"},[t._v(" "+t._s(t.getTitle)+" ")]),s("p",{},[t._v(" "+t._s(t.getSubtitle)+" ")])])],1),s("v-row",[s("v-col",[s("h3",{staticClass:"my-3"},[t._v("Отчет")])]),s("v-col",{attrs:{cols:"auto"}},[s("a",{staticClass:"text-decoration-none",attrs:{href:t.getExportLink}},[s("span",{staticClass:" accent--text text-decoration-underline"},[t._v("Экспортировать в Excel")]),s("v-icon",{staticClass:"accent--text ml-1",attrs:{small:""}},[t._v(" mdi-content-save-outline ")])],1)])],1),s("v-row",[s("v-col",[s("DataTable",{attrs:{page:t.page,limit:t.getLimit,pages:t.getPages,list:t.getList,columns:t.getColumns,query:t.query,filter:t.getFilter},on:{"update:page":function(e){t.page=e}}})],1)],1)],1)],1)],1)},n=[],c=s(629);class i{constructor(t="wss://msh22.remonstro.ru/ws"){this.baseWs=t,this.client=null}async connect(t){const e=t?this.baseWs+t:this.baseWs;this.client=await new Promise(((t,s)=>{const a=new WebSocket(e);a.addEventListener("open",(()=>t(a)),{once:!0}),a.addEventListener("error",(t=>s(t)),{once:!0})}))}}var r={name:"RegionPage",components:{DataTable:()=>Promise.all([s.e(69),s.e(967),s.e(887)]).then(s.bind(s,4887))},data(){return{page:1,wsCilent:null}},computed:{...(0,c.Se)("RegionPredict",["getList","getColumns","getExportLink","getSubtitle","getTitle","getCount","getLimit","getPages","getFilter"]),query(){const t={p:this.page};return t}},watch:{query:{immediate:!0,deep:!0,handler(t){this.fetchData(t)}}},methods:{...(0,c.nv)("RegionPredict",["fetchList"]),async fetchData(t){await this.fetchList(t)},async connectWs(){const t=new i;await t.connect(),this.wsCilent=t.client}},created(){this.connectWs()}},o=r,l={"card-header":"region_card-header_G7sxX"},u=s(3736),d=s(3453),h=s.n(d),g=s(3237),v=s(7118),m=s(2102),p=s(6428),w=s(2877);function C(t){this["$style"]=l.locals||l}var f=(0,u.Z)(o,a,n,!1,C,null,null),x=f.exports;h()(f,{VCard:g.Z,VCardText:v.ZB,VCol:m.Z,VIcon:p.Z,VRow:w.Z})}}]);
//# sourceMappingURL=region.7869f273.js.map